{% extends "base.html" %}

{% block content %}
<html>
<body>
<h1> {{ course_code }} </h1>
<div class="card animate animated fadeInRight" style="width: 18rem;">
    <div class="card-body">
        <table class="table table-hover">
            <thead class ='thead-light'>
              <tr>
                <th></th>
                {% for week in weeks%}
                  <th>{{week}}</th>
                {% endfor %}
              </tr>
            </thead>
            <tbody>
                {% set printed_students=[] %}
                {% for n in range(student_name| length) %}
                  {% set curr_name = student_name[n] %}
                  {% set doneWeeks = [] %}
                  {% for i in range(student_name| length) %}
                    {% if student_name[i] == curr_name %}
                      {% if student_id[i] not in printed_students %}
                        <tr>
                          <td>{{$student_name[i]}}</td>
                        {% do printed_students.append(student_id[n]) %}
                      {% endif %}
                      {% for week in weeks %}
                        {% if week not in doneWeeks %}
                          {% if attendanceWeeks[i] == week %}
                            <td>{{ status[i] }} </td>
                            {% do doneWeeks.append(week) %}
                          {% else %}
                            <td></td>
                          {% endif %}
                        {% endif %}
                      {% endfor %}
                    {% endif %}
                  {% endfor %}
                {% endfor %}
                  <!-- {% if status[n]=='Present' %}
                    <tr bgcolor='#90EE90'>
                      <td>{{ student_name[n] }}</td>
                      <td>{{ student_email[n] }}</td>
                      <td>{{ status[n] }}</td>
                    </tr>
                  {% else %}
                    <tr bgcolor='#FFA07A'>
                      <td>{{ student_name[n] }}</td>
                      <td>{{ student_email[n] }}</td>
                      <td>{{ status[n] }}</td>
                    </tr>
                  {% endif %}
                {% endfor %} -->
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
{% endblock %}